!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i.register("liFUv",(function(t,n){var a,r,o,u;a=t.exports,r="default",o=function(){return l},Object.defineProperty(a,r,{get:o,set:u,enumerable:!0,configurable:!0});var s=i("8MBJY"),c=i("a2hTj"),l=function(){"use strict";function t(){e(s)(this,t),this.loadData("watched")||this.saveData("watched",new Object([])),this.loadData("queue")||this.saveData("queue",new Object([]))}return e(c)(t,[{key:"loadData",value:function(e){var t=localStorage.getItem(e);return JSON.parse(t)}},{key:"saveData",value:function(e,t){var n=JSON.stringify(t);return localStorage.setItem(e,n),"ok"}},{key:"getMovies",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.loadData(e),a=this.getTotalPages(n),i={movies:this.getPaginationPage(t,n),page:t,totalPages:a};return i}},{key:"setMovie",value:function(e,t){if(this.checkMovie(t.id)!==e){this.checkMovie(t.id)===this.changeKey(e)&&this.removeMovie(this.changeKey(e),t.id);try{var n=this.getMovies(e).movies;return n.push(t),this.saveData(e,n)}catch(e){console.log(e.name),console.log(e.message)}}}},{key:"removeMovie",value:function(e,t){var n=this.getMovies(e).movies,a=n.map((function(e){return e.id})).indexOf(t);a>=0&&(n.splice(a,1),this.saveData(e,n))}},{key:"getTotalPages",value:function(e){return Math.ceil(e.length/20)}},{key:"getPaginationPage",value:function(e,t){var n=20*(e-1),a=n+20;return t.slice(n,a)}},{key:"createGenres",value:function(e){var t=this.loadData("genres");return e.map((function(e){return t.find((function(t){return t.id===e}))})).map((function(e){return e.name}))}},{key:"checkMovie",value:function(e){var t="no";return this.getMovies("watched").movies.map((function(e){return e.id})).includes(e)&&(t="watched"),this.getMovies("queue").movies.map((function(e){return e.id})).includes(e)&&(t="queue"),t}},{key:"changeKey",value:function(e){return"watched"===e?"queue":"watched"}}]),t}()})),i.register("8MBJY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}})),i.register("a2hTj",(function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,a){t&&n(e.prototype,t);a&&n(e,a);return e}})),i("liFUv")}();
//# sourceMappingURL=library.6705da56.js.map
